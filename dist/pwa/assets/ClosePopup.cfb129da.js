import{c as j,r as x,d as h,w as E,o as O,a9 as _,a8 as q,f as T,V as ae,g as ne,t as Q,J as se,aw as ie,ax as re,ay as le,a6 as ue}from"./index.6ea3e414.js";import{i as ce,j as de,k as fe,v as A,l as he,m as ve,n as me,o as ge,p as pe,q as ye,r as Te,s as Pe,t as be,w as H,x as we,y as L,z as D,A as Se,B as Ce,C as ke}from"./use-quasar.6cf1315e.js";import{g as xe}from"./scroll.bd9a67bd.js";var qe=j({name:"QTooltip",inheritAttrs:!1,props:{...ce,...de,...fe,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:A},self:{type:String,default:"top middle",validator:A},offset:{type:Array,default:()=>[14,14],validator:he},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...ve],setup(e,{slots:t,emit:a,attrs:n}){let r,u;const g=ne(),{proxy:{$q:s}}=g,c=x(null),v=x(!1),K=h(()=>D(e.anchor,s.lang.rtl)),N=h(()=>D(e.self,s.lang.rtl)),B=h(()=>e.persistent!==!0),{registerTick:W,removeTick:$}=me(),{registerTimeout:m}=ge(),{transitionProps:z,transitionStyle:I}=pe(e),{localScrollTarget:P,changeScrollEvent:R,unconfigureScrollTarget:U}=ye(e,C),{anchorEl:i,canShow:V,anchorEvents:d}=Te({showing:v,configureAnchorEl:ee}),{show:J,hide:p}=Pe({showing:v,canShow:V,handleShow:G,handleHide:X,hideOnRouteChange:B,processOnMount:!0});Object.assign(d,{delayShow:Y,delayHide:Z});const{showPortal:b,hidePortal:w,renderPortal:F}=be(g,c,oe,"tooltip");if(s.platform.is.mobile===!0){const o={anchorEl:i,innerRef:c,onClickOutside(l){return p(l),l.target.classList.contains("q-dialog__backdrop")&&se(l),!0}},y=h(()=>e.modelValue===null&&e.persistent!==!0&&v.value===!0);E(y,l=>{(l===!0?Se:H)(o)}),O(()=>{H(o)})}function G(o){b(),W(()=>{u=new MutationObserver(()=>f()),u.observe(c.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),f(),C()}),r===void 0&&(r=E(()=>s.screen.width+"|"+s.screen.height+"|"+e.self+"|"+e.anchor+"|"+s.lang.rtl,f)),m(()=>{b(!0),a("show",o)},e.transitionDuration)}function X(o){$(),w(),S(),m(()=>{w(!0),a("hide",o)},e.transitionDuration)}function S(){u!==void 0&&(u.disconnect(),u=void 0),r!==void 0&&(r(),r=void 0),U(),_(d,"tooltipTemp")}function f(){we({targetEl:c.value,offset:e.offset,anchorEl:i.value,anchorOrigin:K.value,selfOrigin:N.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Y(o){if(s.platform.is.mobile===!0){L(),document.body.classList.add("non-selectable");const y=i.value,l=["touchmove","touchcancel","touchend","click"].map(k=>[y,k,"delayHide","passiveCapture"]);q(d,"tooltipTemp",l)}m(()=>{J(o)},e.delay)}function Z(o){s.platform.is.mobile===!0&&(_(d,"tooltipTemp"),L(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),m(()=>{p(o)},e.hideDelay)}function ee(){if(e.noParentEvent===!0||i.value===null)return;const o=s.platform.is.mobile===!0?[[i.value,"touchstart","delayShow","passive"]]:[[i.value,"mouseenter","delayShow","passive"],[i.value,"mouseleave","delayHide","passive"]];q(d,"anchor",o)}function C(){if(i.value!==null||e.scrollTarget!==void 0){P.value=xe(i.value,e.scrollTarget);const o=e.noParentEvent===!0?f:p;R(P.value,o)}}function te(){return v.value===!0?T("div",{...n,ref:c,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",n.class],style:[n.style,I.value],role:"tooltip"},Q(t.default)):null}function oe(){return T(ae,z.value,te)}return O(S),Object.assign(g.proxy,{updatePosition:f}),F}}),Ae=j({name:"QCardActions",props:{...ie,vertical:Boolean},setup(e,{slots:t}){const a=re(e),n=h(()=>`q-card__actions ${a.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>T("div",{class:n.value},Q(t.default))}});function M(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var He=le({name:"close-popup",beforeMount(e,{value:t}){const a={depth:M(t),handler(n){a.depth!==0&&setTimeout(()=>{const r=Ce(e);r!==void 0&&ke(r,n,a.depth)})},handlerKey(n){ue(n,13)===!0&&a.handler(n)}};e.__qclosepopup=a,e.addEventListener("click",a.handler),e.addEventListener("keyup",a.handlerKey)},updated(e,{value:t,oldValue:a}){t!==a&&(e.__qclosepopup.depth=M(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});export{He as C,Ae as Q,qe as a};
